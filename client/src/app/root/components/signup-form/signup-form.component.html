<div class="form-container" *ngIf="!(authenticated$ | async)">
  <app-error-message
    *ngIf="(signUpError$ | async) as signUpError"
    [errorMessage]="signUpError"
  ></app-error-message>

  <app-mulpericard *ngIf="!(signingUp$ | async); else signingUp">
    <app-mulpericard-body>
      <h4>Sign up as a new user or <a routerLink="/signin">Sign in</a></h4>
      <table>
        <tr>
          <td><label for="newUsername">Username</label></td>
          <td>
            <input
              type="text"
              id="newUsername"
              name="newUsername"
              placeholder="coolman95"
              #newUsernameField
            />
          </td>
        </tr>
        <tr>
          <td><label for="newUserEmail">Email</label></td>
          <td>
            <input
              type="text"
              id="newUserEmail"
              name="newUserEmail"
              placeholder="Email"
              #newUserEmailField
            />
          </td>
        </tr>
        <tr>
          <td><label for="newUserPassword">Password</label></td>
          <td>
            <input
              appTooltip
              mulperiDescription="8 characters, small and capital letters, special characters and numbers. So it needs to be very hard to crack. Thanks! :)"
              type="password"
              id="newUserPassword"
              name="newUserPassword"
              placeholder="Password (strong)"
              #newUserPasswordField
            />
          </td>
        </tr>
      </table>
    </app-mulpericard-body>
    <app-mulpericard-actions fxLayoutAlign="end">
      <button
        mat-flat-button
        color="accent"
        (click)="
          onClickRegister(
            newUsernameField.value,
            newUserEmailField.value,
            newUserPasswordField.value
          )
        "
      >
        Create user
      </button>
    </app-mulpericard-actions>
  </app-mulpericard>

  <ng-template #signingUp>
    <app-mulpericard>
      <app-mulpericard-body>
        <p>Finalizing registration...</p>
        <app-spinner></app-spinner>
      </app-mulpericard-body>
    </app-mulpericard>
  </ng-template>
</div>
